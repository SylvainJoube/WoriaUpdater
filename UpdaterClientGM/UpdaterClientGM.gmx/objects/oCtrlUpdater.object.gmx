<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sLogoPlay</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>DLL_init();
draw_set_font(fBasic);
G_updaterState=0;

globalvar xmouse, ymouse;
xmouse=window_mouse_get_x();
ymouse=window_mouse_get_y();

// La gestion des IP et ports alternatifs est directement effectué via la dll
// Pour ajouter des adresses sans avoir à mettre la jour la DLL, passer par la fonction dAddRescueAddress
//exemple : dAddRescueAddress("109.7.239.102", 443, false);

// utiliser le 443 pour contourner un éventuel firewall/proxy (port HTTPS)
// Le client du jeu, dans ce cas, utilisera le port 80.
//dAddRescueAddress('42.42.43.42', 3439, true, "testServer (port autre)");
//dAddRescueAddress('127.0.0.1', 3365, true, "Serveur LOCAL");
//dAddRescueAddress('127.0.0.1', 3365, true, "Serveur LOCAL");
//dAddRescueAddress('127.0.0.1', 3365, true, "Serveur LOCAL");
//dAddRescueAddress('127.0.0.1', 3365, true, "Serveur LOCAL");

//(forcément, je recherche un graphiste ^^)

draw_set_font(fDescription);
DescriptionText = ""
+ "    Hey ! Si vous voulez discuter ou participer à l'élaboration du jeu d'une manière ou d'une autre, je suis à portée de mail : sylvain.joube@gmail.com"
+ chr(10)+ chr(10)
+ "    Je m'appelle Sylvain Joube, j'ai 27 ans et j'ai développé seul ce jeu en 3 ans entre 2014 et 2016. Il est codé en Pascal Objet et Game Maker (plus de 120 000 lignes de code au total)."
+ " Je suis développeur et non graphiste, alors les graphismes sont... Comme ils sont ! ;)"
//+ chr(10)+ chr(10)
//+ "    À bientôt en jeu ! :)";
+ "";
xDescriptionText = 30;
DescriptionText_A1Line = BoxText_getLinesList(window_get_width() - xDescriptionText*2, DescriptionText);
DescriptionText_lineHeight = 17;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
xmouse=window_mouse_get_x();
ymouse=window_mouse_get_y();

G_updaterState=dStep();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
xmouse=window_mouse_get_x();
ymouse=window_mouse_get_y();

var canPlay = dGet_jeuPretAEtreLance();
draw_sprite(sLogoPlay, 0, x, y-1);
if canPlay draw_sprite(sLogoPlay, 1, x, y-1);
else       draw_sprite(sLogoPlay, 2, x, y-1);




var x2=x+sprite_get_width(sLogoPlay);
var y2=y+sprite_get_height(sLogoPlay);
if canPlay
if CheckCell(x, y, x2-1, y2-1, 0.06, true) {
    //show_message("Go jouer");
    dPlay(window_handle());
    //global.UseRescuePort = (not global.UseRescuePort);
}

if G_updaterState==3 {
    var sprWidth=sprite_get_width(sProgressBar);
    var sprHeight=sprite_get_height(sProgressBar);
    var xx=floor((room_width-sprWidth)/2);
    var yy=218;
    var percent=dGetProgressBarVariable(1);
    var currentFileNb=dGetProgressBarVariable(2);
    var neededFileNb=dGetProgressBarVariable(3);
    var newWidth=sprWidth*percent/100;
    dGetUpdaterButton(2, 2);
    var speedStr=dGetString();
    draw_sprite(sProgressBar, 0, xx, yy);
    draw_sprite_part(sProgressBar, 1, 0, 0, newWidth, sprHeight, xx, yy);
    draw_set_font(fProgressBarPercent);
    draw_set_halign(fa_center);
    var str=string(percent)+"%   -   fichier "+string(currentFileNb)+" / "+string(neededFileNb)+"   @"+speedStr;
    DrawWhiteText(xx+floor(sprWidth/2), yy+1, str); // BoxText(sprWidth, str)
    draw_set_halign(fa_left);
}
draw_set_color(c_black);


var yy=218+22;
var xCenter=floor(view_wview/2);
draw_set_halign(fa_center);
draw_set_font(fBasic);
var textColor=$00F4FFBB; //merge_colour(c_black, c_yellow, 0.85);

dGetUpdaterButton(1, 2);
var buttonCaption = dGetString();
buttonCaption = BoxText(xCenter * 2 - 10, buttonCaption)
DrawColorText(xCenter, yy, buttonCaption, textColor);


//yy+=30;
//draw_text(10, yy, "speed : "+dGetString());

/*yy+=30;
dGetUpdaterButton(3, 2);
draw_text(xCenter, yy, "play : "+dGetString());

yy+=30;
dGetUpdaterButton(4, 2);
draw_text(xCenter, yy, "uninstall : "+dGetString());

yy+=30;
dGetUpdaterButton(5, 2);
draw_text(xCenter, yy, "install mode : "+dGetString());*/

draw_set_color(c_black);
draw_set_font(fProgressBarPercent);
var xx=20;
var yy=530;
var width=view_wview-xx*2;
var height=20;
draw_rectangle(xx, yy, xx+width, yy+height, true);
draw_set_alpha(0.4);
draw_rectangle(xx, yy, xx+width, yy+height, false);
draw_set_alpha(1);
var rectXCenter=xx+floor(width/2);
draw_set_halign(fa_center);
dGetUpdaterButton(5, 2);
var strInstallMode=dGetString();
DrawColorText(rectXCenter, yy, strInstallMode, c_white);
if CheckCell(xx, yy, xx+width-1, yy+height-1, 0.1, true) {
    dChangeInstallMode();
}

draw_set_font(fBasic);
draw_set_color(c_black);
var xx=20;
var yy=560;
var width=view_wview-xx*2;
var height=21;
draw_rectangle(xx, yy, xx+width, yy+height, true);
draw_set_alpha(0.4);
draw_rectangle(xx, yy, xx+width, yy+height, false);
draw_set_alpha(1);
var rectXCenter=xx+floor(width/2);
draw_set_halign(fa_center);
var uStr="Désinstaller le jeu";
DrawColorText(rectXCenter, yy-1, uStr, c_white);
if CheckCell(xx, yy, xx+width-1, yy+height-1, 0.1, true) {
    dUninstallFull(window_handle());
}

draw_set_halign(fa_left);
//DrawWhiteText(xDescriptionText, 330, DescriptionText);

draw_set_font(fDescription);
var len = ds_list_size(DescriptionText_A1Line);
var yText = 300;
for (var iLine = 0; iLine &lt; len; iLine++) {
    var lineStr = ds_list_find_value(DescriptionText_A1Line, iLine);
    DrawWhiteText(xDescriptionText, yText, lineStr);
    //show_message("str [" + string(iLine) + "] = " + lineStr);
    yText += DescriptionText_lineHeight;
}

/*var uninstallState=dUninstallFull(0);
var uStr="";
if uninstallState==0 {
    uStr="Désinstaller le jeu";
}
if uninstallState==1 {
    uStr="Désinstallation (fichier "+string(dUninstallFull(-1))+")";
}

DrawColorText(rectXCenter, yy, uStr, c_white);

if CheckCell(xx, yy, xx+width-1, yy+height-1, 0.1, true) {
    if uninstallState==0 {
        dUninstallFull(1);
    } else if uninstallState==1 {
        dUninstallFull(2);
    }
}*/





</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// ne rien dessiner en "draw"
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
